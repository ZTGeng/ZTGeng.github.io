<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geng's Website</title>
    <link href="/shared/bootstrap-5.3.2.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-4">
    <!-- Profile Section -->
    <div class="row">
        <div class="col-md-3 bg-secondary text-white p-3">
            <!-- Profile Picture -->
            <img src="./images/profile.jpg" alt="My Photo" class="img-fluid mb-3">
            <!-- Personal Info -->
            <h2>耿志涛</h2>
            <h5>Geng Zhitao</h5>
            <hr>
            <p id="my_intro" class="mb-3"></p>
            <ul class="nav flex-column">
                <li class="nav-item"><span class="me-2">&rtri;</span><a href="https://github.com/ZTGeng" target="_blank" class="text-white">Github</a></li>
                <li class="nav-item"><span class="me-2">&rtri;</span><a href="https://www.linkedin.com/in/zhitao-geng-48766331/" target="_blank" class="text-white">LinkedIn</a></li>
                <li class="nav-item"><span class="me-2">&rtri;</span><a href="./blog/" class="text-white">Blog</a></li>
            </ul>
        </div>
        <div class="col-md-9">
            <!-- Navigation Bar -->
            <nav class="navbar navbar-expand-lg bg-body-secondary mb-4">
                <div class="container-fluid">
                    <a id="nav_title" class="navbar-brand" href="#">Geng's Website</a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                            <li class="nav-item">
                                <a class="nav-link" href="./games/">Games</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="./tools/">Tools</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="./math/">Math</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="./blog/">Blog</a>
                            </li>
                        </ul>
                        <div class="d-flex small">
                            <a id="lang_en" href="#" class="nav-link me-2">English</a>
                            <a id="lang_zh" href="#" class="nav-link">中文</a>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- Portfolio Items -->
            <h4 id="externalTitle">Featured Projects</h4>
            <div id="externalItems" class="row row-cols-1 row-cols-md-3 g-4"></div>
            <br>
            <h4 id="internalTitle">In-site Highlights</h4>
            <div id="internalItems" class="row row-cols-1 row-cols-md-3 g-4"></div>
        </div>
    </div>

    <div id="footer"></div>
</div>

<script src="/shared/bootstrap-5.3.2.bundle.min.js"></script>
<script src="/shared/loadSharedUI.js"></script>
<script>
    const translations = {
        "en": {
            "web_title": "Geng's Website",
            "my_intro": "Welcome to my website! I'm Geng Zhitao, once a biology researcher and science editor in China, now an Android developer in Bay Area. This website is a playful collection of JavaScript games and Vue apps I've spun up along my learning journey, also where I spill my thoughts and discoveries in casual blog posts.",
            "external_title": "Featured Projects",
            "external_items": [
                {
                    title: "VoiceFace ChatGPT",
                    intro: "Adding voice and auto-generated facial video to ChatGPT.",
                    imageSrc: "./images/voiceface.jpg",
                    src: "https://huggingface.co/spaces/ztgeng/ChatGPT-Face",
                },
                {
                    title: "Caesar Decryptor GPT",
                    intro: "Decrypt Caesar Cipher using GPT model.",
                    imageSrc: "./images/caesarcipher.jpg",
                    src: "https://chat.openai.com/g/g-lDytaovRh-caesar-decryptor",
                },
                {
                    title: "Alone Against the Flames",
                    intro: "A text adventure game developed with React.",
                    imageSrc: "./images/cocgame.jpg",
                    src: "https://ztgeng.com/coc-game/"
                },
            ],
            "internal_title": "In-site Highlights",
            "internal_items": [
                {
                    title: "Colorful Text",
                    intro: "Customize your dynamic text with vibrant gradients.",
                    imageSrc: "./tools/colorfultext/colorfultext.png",
                    src: "./tools/colorfultext/demo.html"
                },
                {
                    title: "Venn Diagram",
                    intro: "Craft personalized Venn diagrams with ease.",
                    imageSrc: "./tools/venn/venn.png",
                    src: "./tools/venn/venn.html"
                },
                {
                    title: "Coin Puzzel",
                    intro: "Discover the unique coin among twelve using only three balance attempts.",
                    imageSrc: "./math/images/coins2.png",
                    src: "./math/coins/coins2.html"
                },
                {
                    title: "Mine Sweeper Liar",
                    intro: "Navigate a deceitful grid of Mine Sweeper where discerning truth from lies is the real minefield.",
                    imageSrc: "./games/images/lie-sweeper.png",
                    src: "./games/minesweeper/liesweeper.html"
                },
                {
                    title: "Catch Smelly Cat",
                    intro: "Trap Smelly Cat in a minefield of mischief without disturbing the treacherous poop clues!",
                    imageSrc: "./games/images/cat-poo.png",
                    src: "./games/catchcat/catchcatpoo.html"
                },
                {
                    title: "Tetris Reverse",
                    intro: "Unbuild the rising chaos in Tetris by slicing away shapes before the blocks reach the top!",
                    imageSrc: "./games/images/tetris-reverse.png",
                    src: "./games/tetris/tetrisreverse.html"
                },
            ]
        },
        "zh": {
            "web_title": "小耿的网站",
            "my_intro": "欢迎光临我的网站！我是耿志涛，生物狗转行程序猿，坐标湾区。这个网站是我学习 JavaScript 和 Vue 的过程中随手做的一些小游戏和 Web 应用，以及一个手搓的 Markdown 解析器和它实现的博客。粗陋不堪，贻笑大方。",
            "external_title": "项目展示",
            "external_items": [
                {
                    title: "音画版 ChatGPT",
                    intro: "给 ChatGPT 加上语音和自动生成的人脸视频。",
                    imageSrc: "./images/voiceface.jpg",
                    src: "https://huggingface.co/spaces/ztgeng/ChatGPT-Face",
                },
                {
                    title: "凯撒密码 GPT",
                    intro: "使用 GPT 模型解密凯撒密码。",
                    imageSrc: "./images/caesarcipher.jpg",
                    src: "https://chat.openai.com/g/g-lDytaovRh-caesar-decryptor",
                },
                {
                    title: "向火独行",
                    intro: "基于 React 开发的文字冒险游戏。",
                    imageSrc: "./images/cocgame.jpg",
                    src: "https://ztgeng.com/coc-game/"
                },
            ],
            "internal_title": "本站集萃",
            "internal_items": [
                {
                    title: "舍简从繁",
                    intro: "中文简体转繁体工具。当有多个对应字时，列出所有选项让使用者自行选择。",
                    imageSrc: "./tools/images/zhs2t.png",
                    src: "./tools/zhs2t.html"
                },
                {
                    title: "动态文字渐变",
                    intro: "用丰富多彩的渐变色彩定制你的动态文字。",
                    imageSrc: "./tools/colorfultext/colorfultext.png",
                    src: "./tools/colorfultext/demo.html"
                },
                {
                    title: "维恩图",
                    intro: "轻松绘制个性化的维恩图。",
                    imageSrc: "./tools/venn/venn.png",
                    src: "./tools/venn/venn.html"
                },
                {
                    title: "硬币谜题",
                    intro: "用三次天平称重找出唯一的假币。",
                    imageSrc: "./math/images/coins2.png",
                    src: "./math/coins/coins2.html"
                },
                {
                    title: "扫雷之数字会说谎",
                    intro: "穿梭于充满欺骗的雷区，辨别数字真伪是真正的挑战。",
                    imageSrc: "./games/images/lie-sweeper.png",
                    src: "./games/minesweeper/liesweeper.html"
                },
                {
                    title: "抓猫之猫屎扫雷",
                    intro: "在充满猫屎的雷区里抓住臭猫猫。",
                    imageSrc: "./games/images/cat-poo.png",
                    src: "./games/catchcat/catchcatpoo.html"
                },
            ]
        }
    }

    function createPortfolioItem(item, external=false) {
        const colDiv = document.createElement('div');
        colDiv.className = 'col';

        const cardDiv = document.createElement('a');
        cardDiv.className = 'card h-100 text-decoration-none';
        cardDiv.href = item.src;
        if (external) {
            cardDiv.target = "_blank";
        }

        const imgDiv = document.createElement("div");
        imgDiv.className = "px-3 pt-3";

        const img = document.createElement('img');
        img.className = 'card-img-top shadow rounded';
        img.src = item.imageSrc;
        img.alt = item.title;

        const cardBodyDiv = document.createElement('div');
        cardBodyDiv.className = 'card-body';

        const cardTitle = document.createElement('h5');
        cardTitle.className = 'card-title';
        cardTitle.textContent = item.title;

        const cardText = document.createElement('p');
        cardText.className = 'card-text';
        cardText.textContent = item.intro;

        cardBodyDiv.appendChild(cardTitle);
        cardBodyDiv.appendChild(cardText);

        imgDiv.appendChild(img);

        cardDiv.appendChild(imgDiv);
        cardDiv.appendChild(cardBodyDiv);

        colDiv.appendChild(cardDiv);

        return colDiv;
    }

    function main() {
        const langEn = document.getElementById("lang_en");
        const langZh = document.getElementById("lang_zh");
        function switchLanguage(lang) {
            const translation = translations[lang] || translations["en"];

            if (lang === "zh") {
                langEn.classList.add("link-primary");
                langEn.classList.remove("link-secondary", "disabled");
                langZh.classList.add("link-secondary", "disabled");
                langZh.classList.remove("link-primary");
            } else {
                langEn.classList.add("link-secondary", "disabled");
                langEn.classList.remove("link-primary");
                langZh.classList.add("link-primary");
                langZh.classList.remove("link-secondary", "disabled");
            }

            document.title = translation["web_title"];
            document.getElementById("my_intro").textContent = translation["my_intro"];
            document.getElementById("nav_title").textContent = translation["web_title"];
            document.getElementById("externalTitle").textContent = translation["external_title"];
            document.getElementById("internalTitle").textContent = translation["internal_title"];
            const externalContainer = document.getElementById("externalItems");
            externalContainer.innerHTML = "";
            translation["external_items"].forEach(item => {
                externalContainer.appendChild(createPortfolioItem(item, external=true));
            });
            const internalContainer = document.getElementById("internalItems");
            internalContainer.innerHTML = "";
            translation["internal_items"].forEach(item => {
                internalContainer.appendChild(createPortfolioItem(item));
            });
        }

        const userLang = navigator.language || navigator.userLanguage;
        const lang = userLang.slice(0, 2) || "en";
        switchLanguage(lang);
        langEn.addEventListener("click", () => switchLanguage("en"));
        langZh.addEventListener("click", () => switchLanguage("zh"));
    }

    window.onload = main;
</script>
</body>
</html>
