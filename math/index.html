<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title id="webTitle">Math</title>
    <link href="/shared/bootstrap-5.3.2.min.css" rel="stylesheet">
    <script src="/shared/bootstrap-5.3.2.bundle.min.js" type="text/javascript"></script>
</head>

<body>
    <div class="container">
        <div id="header"></div>
        <h1>
            <span id="title"></span><br>
            <small class="text-muted" id="greeting"></small>
        </h1>
        <br>

        <div id="portfolio"></div>

        <div id="footer"></div>
    </div>
    <script type="text/javascript" src="/shared/loadSharedUI.js" data-active-tab="math" data-lang-enabled="true" data-en-callback="switchToEn" data-zh-callback="switchToZh"></script>
    <script type="text/javascript" src="/shared/autoReorganizedCarousel.js"></script>
    <script type="text/javascript">
        const catalogs = [
            {
                id: "equations",
                title: {
                    "en": "Equations",
                    "zh": "方程",
                },
                items: [
                    {
                        id: "equations4",
                        title: {
                            "en": "Simple 4-variable Linear System",
                            "zh": "简单四元一次方程组",
                        },
                        intro: {
                            "en": "Solving linear equations with two to four variables, where all the coefficients are 1.",
                            "zh": "求解二到四元的线性方程组，所有未知数的系数为 1。",
                        },
                        src: "/math/equations4.html",
                        imageSrc: "/math/images/equations4.png",
                    },
                ]
            },
            {
                id: "coins",
                title: {
                    "en": "Coin Puzzel",
                    "zh": "硬币谜题",
                },
                items: [
                {
                        id: "coinshuman",
                        title: {
                            "en": "Coin Conundrum",
                            "zh": "称硬币",
                        },
                        intro: {
                            "en": "Find the one coin of a different weight among 12 coins by weighing them three times.",
                            "zh": "三次称重找出 12 枚硬币中重量不同的一枚。",
                        },
                        src: "/math/coins/coins2.html",
                        imageSrc: "/math/images/coins2.png",
                    },
                    {
                        id: "coinscomputer",
                        title: {
                            "en": "Coin Conundrum: Computer",
                            "zh": "电脑称硬币",
                        },
                        intro: {
                            "en": "Verifying the coin problem can be solved with three weighings.",
                            "zh": "由计算机验证硬币问题可通过三次称重解决。",
                        },
                        src: "/math/coins/coins.html",
                        imageSrc: "/math/images/coins.png",
                    },
                ]
            }
        ];
        const translations = {
            "en": {
                "web_title": "Math",
                "title": "Math Beyond Practicality",
                "greeting": "Unlike other problems, math always has a right answer.",
            },
            "zh": {
                "web_title": "数学",
                "title": "实用数学",
                "greeting": "数学问题与其他不同，总是有正确答案。",
            }
        };

		function switchPageLanguage(lang) {
            const translation = translations[lang] || translations["en"];
            
            document.title = translation.web_title;
            document.getElementById("title").textContent = translation.title;
            document.getElementById("greeting").textContent = translation.greeting;
        }
        function switchToZh() {
            switchPageLanguage("zh");
            switchCatalogsLanguage(catalogs, "zh");
        }
        function switchToEn() {
            switchPageLanguage("en");
            switchCatalogsLanguage(catalogs, "en");
        }

        document.addEventListener("DOMContentLoaded", () => {
            const userLang = navigator.language || navigator.userLanguage;
            const lang = userLang.slice(0, 2) || "en";
            switchPageLanguage(lang);

            const portfolio = document.getElementById("portfolio");
            const catalogDOMs = createCatalogsAndListenToResize(catalogs, lang);
            for (let catalogDOM of catalogDOMs) {
                portfolio.appendChild(catalogDOM);
            }
        });
    </script>
</body>

</html>