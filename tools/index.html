<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title id="webTitle">Tools</title>
    <link href="/shared/bootstrap-5.3.2.min.css" rel="stylesheet">
    <script type="text/javascript" src="/shared/bootstrap-5.3.2.bundle.min.js"></script>
</head>

<body>
    <div class="container">
        <div id="header"></div>
        <h1>
            <span id="title"></span><br>
            <small class="text-muted" id="greeting"></small>
        </h1>
        <br>

        <div id="portfolio"></div>

        <div id="footer"></div>
    </div>
    <script type="text/javascript" src="/shared/loadSharedUI.js" data-active-tab="tools" data-lang-enabled="true" data-en-callback="switchToEn" data-zh-callback="switchToZh"></script>
    <script type="text/javascript" src="/shared/autoReorganizedCarousel.js"></script>
    <script type="text/javascript">
        const catalogs = [
            {
                id: "typography",
                title: {
                    "en": "Typography",
                    "zh": "文字",
                },
                items: [
                    {
                        id: "freewords",
                        title: {
                            "en": "Text Arranger",
                            "zh": "划线排版",
                        },
                        intro: {
                            "en": "Input text and draw lines to arrange them.",
                            "zh": "适用于微博、微信等社交平台的划线排版工具。",
                        },
                        src: "/tools/freewords.html",
                        imageSrc: "/tools/images/freewords.png",
                    },
                    {
                        id: "zhs2t",
                        title: {
                            "en": "Chinese Simplified to Traditional",
                            "zh": "舍简从繁",
                        },
                        intro: {
                            "en": "Transfer Chinese simplified characters to traditional characters.",
                            "zh": "简体转繁体工具。为一对多的简化字提供转换选项。",
                        },
                        src: "/tools/zhs2t.html",
                        imageSrc: "/tools/images/zhs2t.png",
                    },
                    {
                        id: "colorfultext",
                        title: {
                            "en": "Colorful Text",
                            "zh": "动态文字渐变",
                        },
                        intro: {
                            "en": "Set gradient colors on text dynamically.",
                            "zh": "为文字设置渐变色并自动根据内容和排版变化而动态调整。",
                        },
                        src: "/tools/colorfultext/demo.html",
                        imageSrc: "/tools/colorfultext/colorfultext.png",
                    },
                ]
            },
            {
                id: "widget",
                title: {
                    "en": "Widget",
                    "zh": "组件",
                },
                items: [
                    {
                        id: "novelfilter",
                        title: {
                            "en": "Novel Filter",
                            "zh": "异世界轻小说筛选器",
                        },
                        intro: {
                            "en": "A demo of filter widget.",
                            "zh": "筛选组件展示。",
                        },
                        src: "/tools/novelfilter.html",
                        imageSrc: "/tools/images/novelfilter.png",
                    },
                    {
                        id: "digitalnumber",
                        title: {
                            "en": "Digital Numbers",
                            "zh": "电子表数字样式",
                        },
                        intro: {
                            "en": "Convert numbers to digital style using pure css and js. No extra font needed.",
                            "zh": "纯 css + js 实现将数字转换为电子表样式。",
                        },
                        src: "/tools/digitalnumber/demo.html",
                        imageSrc: "/tools/digitalnumber/digitalnumber.png",
                    },
                    {
                        id: "venndiagram",
                        title: {
                            "en": "Venn Diagram",
                            "zh": "制作交集图",
                        },
                        intro: {
                            "en": "Make three-circle Venn diagram with adjustable font size and color.",
                            "zh": "制作三个圆形组成的交集图。可调整字号、颜色等。",
                        },
                        src: "/tools/venn/venn.html",
                        imageSrc: "/tools/venn/venn.png",
                    },
                ]
            },
        ];
        const translations = {
            "en": {
                "web_title": "Tools",
                "title": "Amused Tools",
                "greeting": "Dive into the ocean of creativity and fish for fun",
            },
            "zh": {
                "web_title": "工具",
                "title": "娱乐工具",
                "greeting": "在创意的海洋里愉快地摸鱼。",
            }
        };

        function switchPageLanguage(lang) {
            const translation = translations[lang] || translations["en"];
            
            document.title = translation.web_title;
            document.getElementById("title").textContent = translation.title;
            document.getElementById("greeting").textContent = translation.greeting;
        }
        function switchToZh() {
            switchPageLanguage("zh");
            switchCatalogsLanguage(catalogs, "zh");
        }
        function switchToEn() {
            switchPageLanguage("en");
            switchCatalogsLanguage(catalogs, "en");
        }

        document.addEventListener("DOMContentLoaded", () => {
            const userLang = navigator.language || navigator.userLanguage;
            const lang = userLang.slice(0, 2) || "en";
            switchPageLanguage(lang);

            const portfolio = document.getElementById("portfolio");
            const catalogDOMs = createCatalogsAndListenToResize(catalogs, lang);
            for (let catalogDOM of catalogDOMs) {
                portfolio.appendChild(catalogDOM);
            }
        });
    </script>
</body>

</html>